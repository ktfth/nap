#!/usr/bin/env node
const fs = require('fs');
const isTTY = process.stdin.isTTY;
const isPipe = !isTTY;
const { Transform } = require('stream');
const args = process.argv.slice(2);
const nap = require('../');
const searchData = nap.searchDataTransform(args);

if (isPipe) {
    process.stdin.pipe(searchData).pipe(process.stdout);
    process.stdin.resume();
} else if ((!isPipe && (isTTY)) && args.length) {
    let directory = fs.readdirSync(process.cwd(), {
      withFileTypes: true
    });
    console.log('Traverse here a search');
    console.log(directory);
    console.log(directory[1].isDirectory());
}
